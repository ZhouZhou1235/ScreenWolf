# 屏幕有狼主程序开发文档

屏幕有狼是一款基于 Java Swing 的桌面宠物游戏，玩家能在桌面上放置可交互的虚拟宠物。
游戏支持加载新宠物，每只宠物拥有独立的动画、数值和行为逻辑。


## 开发准备
语言：Java
JDK版本：OpenJDK-21
项目组织规范：Maven


## 运行原理
游戏主程序的启动器加载游戏，创建一个支持鼠标穿透的全屏透明窗体，启动器提供的窗口管理游戏进程。
玩家选择宠物加载到透明窗体中开始游玩。
窗体的实现依赖Java内置库 Swing 和 AWT。


## 项目结构
主程序即screenwolf文件夹，是一个Maven项目。
src/main/java下编写了游戏的源代码，Main.java为启动入口；
src/main/resources是主程序的资源。


## java类文档
下面给出开发宠物主要关注的java类说明

### Launcher 启动器
游戏的主启动器，负责初始化游戏环境、管理窗口和宠物列表。
Launcher()：构造函数，初始化文件目录、字体、透明屏幕、宠物列表等。
playGame()：开始游戏，将宠物添加到屏幕并显示。
stopGame()：停止游戏，清理宠物资源并隐藏屏幕。
reloadLauncher()：重新加载启动器，重置宠物列表和窗口。
addPetToLauncher(PetBase pet)：将宠物添加到启动器列表中。
testLoadPet(PetBase pet)：测试加载宠物（用于调试）。

### ItemBase 物品基类
所有可显示物品的基类，支持文本和图像显示，支持拖拽。
ItemBase(String text)：构造一个文本物品。
ItemBase(String name, ImageIcon icon)：构造图片物品。
setFontAdjustText(String text)：根据文本自动调整组件大小。
ready()：初始化鼠标事件，支持拖拽。

### PetBase 宠物基类

### AnimationSprite 动画精灵
负责播放宠物的序列帧动画
setAndPlayAnimation(String animationName)：设置并播放指定动画。
playAnimation()：开始播放动画。
stopAnimation()：停止播放动画。

### PetMessageBubble 宠物消息气泡
显示宠物发出的消息气泡，支持自动隐藏和鼠标交互。
PetMessageBubble(String text)：构造一个消息气泡。
setDisplayTime(int milliseconds)：设置显示时间。
adjustSizeToText(String text)：根据文本调整气泡大小。

### GUtil 全局工具

### JarFileUtil jar包文件工具类
用于从JAR包中读取资源文件
listJarDirNamesByPath(String jarPath, String dirPath)：列出JAR中指定目录下的文件夹名。
listJarFileMapByPath(String jarPath, String dirPath)：读取JAR中指定目录下的文件内容（字节数组）。
readByteInJarFile(String jarPath, String filePath)：读取JAR中指定文件的字节流。

### PetOption 宠物选项面板
每只宠物的专属控制面板，显示状态和提供交互按钮。
PetOption(PetBase pet)：构造函数，初始化面板。
loadButtonsToPanel()：加载按钮到面板。
updateStatusText()：更新宠物状态文本。
showWindow()：显示面板。
closeWindow()：关闭面板。
